@import 'tailwindcss';
@custom-variant business ([data-theme="business"] &);

@plugin "daisyui" {
    themes: corporate --default, business --prefersdark;
}

/* --- LIGHT THEME (Corporate) --- */
@plugin "daisyui/theme" {
    name: 'corporate';
    default: true;

    /* Brand Colors */
    --color-primary: oklch(0.42 0.15 253);
    --color-primary-content: oklch(1 0 0);
    --color-secondary: oklch(0.93 0.01 200);
    --color-secondary-content: oklch(0.2 0 0);

    /* Semantic Colors */
    --color-info: oklch(0.65 0.12 235);
    --color-info-content: oklch(1 0 0);
    --color-error: oklch(0.55 0.245 25);
    --color-error-content: oklch(1 0 0);
    --color-success: oklch(0.59 0.22 142);
    --color-success-content: oklch(1 0 0);
    --color-warning: oklch(0.75 0.2 100);
    --color-warning-content: oklch(0.2 0 0);

    /* Surfaces */
    --color-base-100: oklch(0.98 0 0); /* Pure White Card */
    --color-base-200: oklch(0.95 0 0); /* Light Gray Background */
    --color-base-300: oklch(0.9 0 0);

    /* Borders */
    --border: oklch(0.88 0.01 200);

    /* Foregrounds */
    --muted: oklch(0.9 0 0);
    --muted-foreground: oklch(0.4 0 0);
    --border: oklch(0.88 0.01 200);
}

/* --- DARK THEME (Business) --- */
@plugin "daisyui/theme" {
    name: 'business';
    default: false;

    /* Brand Colors */
    --color-primary: oklch(0.65 0.15 253);
    --color-primary-content: oklch(0.15 0 0);
    --color-info: oklch(0.72 0.11 220);
    --color-info-content: oklch(0.15 0 0);
    --color-error: oklch(0.50 0.245 27.325);
    --color-error-content: oklch(0.95 0 0);
    --color-success: oklch(0.58 0.58 162);
    --color-success-content: oklch(0.95 0 0);
    --color-warning: oklch(0.65 0.15 100);
    --color-warning-content: oklch(0.15 0 0);

    /* Surfaces */
    --color-base-100: oklch(0.19 0.02 253);
    --color-base-200: oklch(0.14 0.02 253);
    --color-base-300: oklch(0.24 0.02 253);

    /* Borders */
    --border: oklch(0.32 0.03 253);

    /* Foregrounds */
    --muted: oklch(0.28 0.03 253);
    --muted-foreground: oklch(0.75 0.05 253);
    --border: oklch(0.32 0.03 253);
}

/* --- MAPPINGS --- */
@theme inline {
    --color-border: var(--border);
    --color-card: var(--color-base-100);
    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);
    --color-ring: var(--color-primary);
}

/* --- BASE STYLES --- */
@layer base {
    * {
        font-family: 'Geist Variable', sans-serif;
    }

    /* Arabic locale styles */
    :root:lang(ar),
    :root[lang='ar'],
    :root[lang^='ar-'] {
        direction: rtl;
    }

    :root:lang(ar) *,
    :root[lang='ar'] *,
    :root[lang^='ar-'] * {
        font-family: 'Almarai', 'Segoe UI', Geneva, Verdana, sans-serif !important;
    }

    body {
        background-color: var(--color-base-200);
        color: var(--color-base-content);
        border-color: var(--border);
    }

    .btn {
        border: 1px solid transparent;
        box-shadow: none;
        transition: background-color 0.2s, color 0.2s, filter 0.2s;
    }

    .btn-primary:hover,
    .btn-error:hover {
        filter: brightness(1.15);
        border-color: transparent;
    }

    .btn-primary:not(:hover),
    .btn-error:not(:hover) {
        border-color: transparent;
        filter: brightness(1);
    }
}

/* Neutralize autofill background */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus {
    -webkit-text-fill-color: var(--color-base-content);
    transition: background-color 9999s ease-out, color 9999s ease-out;
    box-shadow: 0 0 0 1000px var(--color-base-100) inset;
}

@keyframes scan {
    0% {
        transform: translateY(-100%);
    }
    100% {
        transform: translateY(200%);
    }
}

.animate-scan {
    animation: scan 2s linear infinite;
}

@media (prefers-reduced-motion: reduce) {
    :root.theme-transition {
        transition: none !important;
    }
}

:root.theme-transition,
:root.theme-transition *,
:root.theme-transition *:before,
:root.theme-transition *:after {
    transition: all 0.3s ease-in !important;
    transition-delay: 0s !important;
}

@layer utilities {
    @supports (color: color-mix(in lab, red, red)) {
        .badge-soft {
            background-color: color-mix(
                in oklab,
                var(--badge-color, var(--color-base-content)) 12%,
                var(--color-base-100)
            );
        }
    }
}
